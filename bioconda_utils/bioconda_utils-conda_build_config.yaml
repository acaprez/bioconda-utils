# Bioconda's supported python versions are described
# in ../docs/source/user/versions.rst
# so please keep that documentation up to date as they change

# Additional bioconda-specific pinnings to use in addition to those specified
# in
# https://github.com/conda-forge/conda-forge-pinning-feedstock/blob/master/recipe/conda_build_config.yaml

# clear hard-coded default value for CONDA_BUILD_SYSROOT
CONDA_BUILD_SYSROOT:
  - ""
c_stdlib:
  - sysroot                    # [linux]
  - macosx_deployment_target   # [osx]
c_stdlib_version:
  - 2.17                       # [linux]
  - 11.0                       # [osx and arm64]
  - 10.13                      # [osx and x86_64]
MACOSX_DEPLOYMENT_TARGET:      # [osx]
  - 11.0                       # [osx and arm64]
  - 10.13                      # [osx and x86_64]

bamtools:
  - "2.5.2"

# NOTE: Workaround https://github.com/conda/conda-build/issues/3974 we slightly alter the values
#       from conda-forge-pinnings here (inserting '.*' or ' ' which should be ignored later on).
r_base:
  - "4.3.*"
  - "4.4.*"

# # conda-forge-pinning just got updated to build for Py 3.12 by default.
# # In case we want to drop 3.8 before conda-forge does, we can use the following:
# python:
#   - 3.12.*  *_cpython
#   - 3.11.*  *_cpython
#   - 3.10.*  *_cpython
#   - 3.9.*  *_cpython
#
# # Needs to match the length of the other zip_keys in its group (python, python_impl, numpy).
# python_impl:
#   - cpython
#   - cpython
#   - cpython
#   - cpython
#
# # Warning! This needs to both match the length of python and python_impl but ALSO match what conda-forge is using/has used!
# numpy:
#   - 1.26.*
#   - 1.23.*
#   - 1.22.*
#   - 1.22.*

# Warning! This needs to both match the length of python and python_impl but ALSO match what conda-forge is using/has used!
numpy:
  - 1.21.*
  - 1.21.*
  - 1.21.*

channel_sources:
  - hcc,conda-forge,bioconda,defaults

channel_targets:
  - hcc main

# HCC specific packages
cuda_driver:
  - 460.67  # [linux]
cuda_compiler_version:
  - 11.4  # [linux]
cudnn:
  - 8  # [linux]
cudatoolkit:
  - 11.4  # [linux]
zip_keys:
- - cuda_compiler_version  # [linux]
  - cudnn                  # [linux]

mro:
  - 3.5

pin_run_as_build:
  mro:
    min_pin: x.x.x
    max_pin: x.x
  cuda_driver:          # [linux]
    max_pin: x.x        # [linux]
  cudatoolkit:          # [linux]
    max_pin: x.x        # [linux]
  cudnn:                # [linux]
    max_pin: x.x.x      # [linux]

# be a little more specific and use 4.1
openmpi:
  - 4.1.*

oneapi_c_compiler:
  - icc
oneapi_cxx_compiler:
  - icpc
oneapi_fortran_compiler:
  - ifort
oneapi_c_compiler_version:
  - 2021
oneapi_cxx_compiler_version:
  - 2021
oneapi_fortran_compiler_version:
  - 2021
